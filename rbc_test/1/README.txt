—крипт 1.pl - формирует базу данных db.txt в текущей директории. ‘ормат вызова:
1.pl path_to_dir
«амечани€:
1. –ешил не транслировать в случае "." или ".." в качестве path_to_dir в пути от корн€ (хот€ это элементарно выполн€етс€ системными вызовами). ѕочему-то подумал, что не стоит. ѕоэтому в db.txt пути в этом случае будут соответствующими.  стати, "~" обрабатываетс€ как надо.
2. ≈сли первоначально задаетс€ в качестве параметра не директори€, то скрипт прекращает свою работу и в файл ничего не заноситс€ (оп€ть же почему-то так решил, ибо в условии говоритс€, что в качестве параметра задаем директорию).
3. ≈сли есть замыкающий слеш, но путь не состоит только из него одного, удал€ем его (дл€ красоты и единобрази€).

—крипт 2.pl - выт€гивает из db.txt нужные строки. ‘ормат вызоваа:
2.pl substr
«амечани€:
1. ¬се без регул€рных выражений, ибо в условии об этом не упом€нуто (просто смотрим на index - если неотрицательный, значит, подстрока есть). ¬ случае регул€рных выражений нужно index заменить на 
my $s = $ARGV[0]; 
...
if ($str =~ /$s/) {
или что-то в этом роде, в зависимости от прин€того синтаксиса регул€рного выражени€ дл€ 2.pl

¬рем€ выполнени€: ~ 2 часа параллельно с основной работой. Ѕольше времени потрачено на вспоминание параметров проверки файлов типа -r, -x, -d и то, какими должны обладать директории правами дл€ операций над ними.